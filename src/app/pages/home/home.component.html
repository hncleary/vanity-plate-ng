<div class="card-above">
    <h3>Currently Registered Users:</h3>
    <ngx-mat-searchbar #filter></ngx-mat-searchbar>
</div>

<mat-card class="sorting-selection">
    <div class="sort-label">
        <mat-icon>sort</mat-icon>
        <p>Sort by</p>
    </div>
    <mat-card
        appearance="outlined"
        class="sort-option"
        (click)="updateSort('alpha')"
        [ngClass]="{ 'selected-item': currentSort === 'alpha' }">
        <p>A-z</p>
    </mat-card>
    <mat-card
        appearance="outlined"
        class="sort-option"
        (click)="updateSort('popular')"
        [ngClass]="{ 'selected-item': currentSort === 'popular' }">
        <p>Popular</p>
    </mat-card>
</mat-card>
<mat-card class="user-list-table">
    <ng-container *ngFor="let user of sumCollection.sums | genericFilter : filter.value">
        <div class="user-item" (click)="goToUserPage(user.username)">
            <p class="display-name">{{ user.displayName }}</p>
            <p class="username">/u/{{ user.username }}</p>
            <div class="follower-count">
                <mat-icon>people</mat-icon>
                <p>{{ user.totalFollowers | numberTruncate }}</p>
            </div>
            <div class="icon">
                <mat-icon>east</mat-icon>
            </div>
        </div>
        <mat-divider></mat-divider>
    </ng-container>
</mat-card>
<mat-card class="user-list-count">
    <p>
        Showing {{ (sumCollection.sums | genericFilter : filter.value).length }} of
        {{ sumCollection.sums.length }} users
    </p>
</mat-card>
